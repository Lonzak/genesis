<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_10-ea) on Tue Apr 09 09:18:20 PDT 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>CssModule (Genesis 0.79 API)</title>
<meta name="date" content="2013-04-09">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CssModule (Genesis 0.79 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CssModule.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/projetloki/genesis/CssBuilder.html" title="interface in com.projetloki.genesis"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/projetloki/genesis/CssModuleInstallException.html" title="class in com.projetloki.genesis"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/projetloki/genesis/CssModule.html" target="_top">Frames</a></li>
<li><a href="CssModule.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.projetloki.genesis</div>
<h2 title="Interface CssModule" class="title">Interface CssModule</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">CssModule</span></pre>
<div class="block">A CSS module is responsible for generating a part of the CSS code.
 It contains a single method, <a href="../../../com/projetloki/genesis/CssModule.html#configure(com.projetloki.genesis.CssBuilder)"><code>configure(CssBuilder)</code></a>, where new rules
 are defined and added to the CSS builder.

 Example:
 <pre><code> static final CssModule MY_BUTTON_CSS_MODULE = new CssModule() {
   &#064;Override public void configure(CssBuilder out) throws IOException {
     out.addRule(".myButton", Properties.builder()
         .setWidthPx(80)
         .setHeightPx(20)
         .setBackground(Color.ALUMINIUM_3)
         .set(CursorValue.POINTER)
         .setBorderRadiusPx(2));

     out.addRule(".myButton:hover", Properties.builder()
         .setBackground(Color.ALUMINIUM_2)
         .set(FontWeightValue.BOLD));

     int iconWidth = 16;
     int iconHeight = 16;
     Image icon = Images.load(getClass().getResource("my-icon.png"))
         .rotateCw()
         .scale(iconWidth, iconHeight);
     out.addRule(".myButton-icon", Properties.builder()
         .setWidthPx(iconWidth)
         .setHeightPx(iconHeight)
         .setMarginPx(2)
         .set(FloatValue.LEFT)
         .setBackground(BackgroundLayer.of(icon)));
   }
 };
 </code></pre>

 <p>
 Conflicts between rules defined in different modules are not allowed.
 There is a conflict if the same (selector, property) pair is found in both
 sets of rules. For example, if a module defines the rule
 <code>#head{background: blue}</code>, another can't define the rule
 <code>#head{background: green}</code>, or an exception will be thrown when
 generating the CSS.</p>

 <p>
 Modules can depend on each other, through the
 <a href="../../../com/projetloki/genesis/CssBuilder.html#install(com.projetloki.genesis.CssModule)"><code>CssBuilder.install(CssModule)</code></a> method. When a module is installed, all
 the modules it depends on are also installed. Cyclic dependencies are
 allowed.</p>

 <h5>Theming</h5>

 <p>
 When creating a reusable widget, it's important to give users the ability to
 change some style properties (colors, dimensions) so the widget fits better
 with the general style of the page.
 Usually, it's done by asking the user to directly modify the piece of CSS
 that comes with the widget. This is not a perfect solution because this
 requires the user to have a clear understanding of what effect every property
 in the piece of CSS has. Very often, changing a high-level requires to change
 more than one properties in the CSS.
 Also, if the HTML structure of the widget changes in a future version, the
 CSS does not work anymore.</p>

 <p>
 CSS modules offer an alternative solution. Since modules are regular Java
 objects, their constructors can take parameters.
 <br/>Consider a widget that renders text in a rectangular box, and below the
 box there is a tail that makes the box looks like a comic strip balloon. The
 tail is a CSS background image, its color needs to be equal to the widget's
 background-color property. The module below lets the user specify the color
 as a parameter.
 <pre><code> class BalloonCssModule implements CssModule {
   final Color backgroundColor;

   BalloonCssModule(Color backgroundColor) {
     this.backgroundColor = backgroundColor;
   }

   &#064;Override public void configure(CssBuilder out) throws IOException {
     int tailHeight = 20;

     // Generate the tail background image
     Image tail = Images.canvas(30, tailHeight, backgroundColor)
         .mask(Shapers.tail(0, 15, 30, tailHeight));

     out.addRule(".balloon", Properties.builder()
         .setHeightPct(100)
         .setPaddingBottomPx(tailHeight)
         .setBackground(BackgroundLayer.of(tail)
             .position("4px bottom")));

     // The text box inside the balloon
     out.addRule(".balloon-box", Properties.builder()
         .setHeightPct(100)
         .setBackground(backgroundColor));
   }
 }
 </code></pre>
 It is the simplest solution, it does the work in most cases, but it has a
 limitation. What if the user would like to have a gray balloon AND a green
 balloon on the same page? Fortunately, there is a solution for this.
 <pre><code> class BalloonCssModule implements CssModule {
   // The theme only applies to balloons that have an ancestor
   // matched by this selector
   final Selector ancestor;
   final Color backgroundColor;

   static final int tailHeight = 20;

   BalloonCssModule(Selector ancestor, Color backgroundColor) {
     this.ancestor = ancestor;
     this.backgroundColor = backgroundColor;
   }

   &#064;Override public void configure(CssBuilder out) {
     out.install(BASE_MODULE);

     // Generate the tail background image
     Image tail = Images.canvas(30, tailHeight, backgroundColor)
         .mask(Shapers.tail(0, 15, 30, 0));

     out.addRule(ancestor.asAncestorOf(".balloon"), Properties.builder()
         .setBackground(BackgroundLayer.of(tail)
             .position("4px bottom")));

     // The text box inside the balloon
     out.addRule(ancestor.asAncestorOf(".balloon-box"), Properties.builder()
         .setBackground(backgroundColor));
   }

   // CSS for all balloons regardless of the theme
   private static final CssModule BASE_MODULE = new CssModule() {
     &#064;Override public void configure(CssBuilder out) {
       // These rules can't be added in BalloonCssModule#configure because
       // different modules (per the #equals method) can't set the same
       // properties, even if the values are identical

       // An exception would be thrown if the user installed two distinct
       // instances of BalloonCssModule

       out.addRule(".balloon", Properties.builder()
           .setHeightPct(100)
           .setPaddingBottomPx(tailHeight));

       // The text box inside the balloon
       out.addRule(".balloon-box", Properties.builder()
           .setHeightPct(100));
     }
   };
 }
 </code></pre>
 The user can install two instances of this module, with different background
 colors and ancestors, to obtain two different styles on the same page.
 </p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Cl√©ment Roux</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/projetloki/genesis/CssModule.html#configure(com.projetloki.genesis.CssBuilder)">configure</a></strong>(<a href="../../../com/projetloki/genesis/CssBuilder.html" title="interface in com.projetloki.genesis">CssBuilder</a>&nbsp;out)</code>
<div class="block">Adds rules to the given builder.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/projetloki/genesis/CssModule.html#equals(java.lang.Object)">equals</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;object)</code>
<div class="block">Indicates whether another object is equal to this CSS module.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="configure(com.projetloki.genesis.CssBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>configure</h4>
<pre>void&nbsp;configure(<a href="../../../com/projetloki/genesis/CssBuilder.html" title="interface in com.projetloki.genesis">CssBuilder</a>&nbsp;out)
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Adds rules to the given builder. See the <a href="../../../com/projetloki/genesis/CssModule.html" title="interface in com.projetloki.genesis">top-level</a>
 comment for examples.

 To install a module, you must NOT call this method directly. Instead, call
 <a href="../../../com/projetloki/genesis/CssBuilder.html#install(com.projetloki.genesis.CssModule)"><code>CssBuilder.install(CssModule)</code></a>.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="equals(java.lang.Object)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>equals</h4>
<pre>boolean&nbsp;equals(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;object)</pre>
<div class="block">Indicates whether another object is equal to this CSS module.

 <p>
 Only some implementations will have a reason to override the behavior of
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang"><code>Object.equals(java.lang.Object)</code></a>. Genesis calls this method to check
 if a module has already been installed. If several modules depend on the
 same module, but don't share a reference to this module (e.g. call
 <code>new</code> every time), then overriding this method and <code>#hashCode</code>
 is required to prevent the module from being installed several times.
 </p></div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CssModule.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/projetloki/genesis/CssBuilder.html" title="interface in com.projetloki.genesis"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/projetloki/genesis/CssModuleInstallException.html" title="class in com.projetloki.genesis"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/projetloki/genesis/CssModule.html" target="_top">Frames</a></li>
<li><a href="CssModule.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013. All Rights Reserved.</small></p>
</body>
</html>
